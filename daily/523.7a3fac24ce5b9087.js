"use strict";(self.webpackChunkDaily=self.webpackChunkDaily||[]).push([[523],{1081:(R,O,s)=>{s.d(O,{G:()=>I});var t=s(4953),p=s(2340),i=s(5e3),A=s(520);let I=(()=>{class b{constructor(h){this.http=h}getManualAdjustment(h){return this.http.post(p.N.url+t.X.ADJUSTMENT_ENDPOINTS.REPORT_SERVICE+t.X.ADJUSTMENT_ENDPOINTS.MANUAL_ADJUSTMENT+t.X.CRUD.GET_ALL,{date:h})}updateManualAdjustment(h){return this.http.post(p.N.url+t.X.ADJUSTMENT_ENDPOINTS.REPORT_SERVICE+t.X.ADJUSTMENT_ENDPOINTS.MANUAL_ADJUSTMENT+t.X.CRUD.UPDATE,{aggregationList:h})}}return b.\u0275fac=function(h){return new(h||b)(i.LFG(A.eN))},b.\u0275prov=i.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},9291:(R,O,s)=>{s.d(O,{L:()=>b});var t=s(7579),p=s(4953),i=s(2340),A=s(5e3),I=s(520);let b=(()=>{class T{constructor(g){this.http=g,this.showSubject=new t.x}getProfilesList(){return this.http.post(i.N.url+p.X.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH+p.X.PROFILES_ENDPOINTS.GET_PROFILES_LIST,{})}manageProfile(g,f){let v;return v="edit"===f?p.X.PROFILES_ENDPOINTS.UPDATE_PROFILE:p.X.PROFILES_ENDPOINTS.CREATE_PROFILE,this.http.post(i.N.url+p.X.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH+v,{profile:g})}getProfileById(g){return this.http.post(i.N.url+p.X.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH+p.X.PROFILES_ENDPOINTS.GET_PROFILE_BY_ID,{profileId:g})}deleteProfile(g){return this.http.post(i.N.url+p.X.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH+p.X.PROFILES_ENDPOINTS.DELETE_PROFILE,{profileId:g})}getPrivilegesList(){return this.http.post(i.N.url+p.X.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH+p.X.PRIVILEGES_ENDPOINTS.PRIVILEGE+p.X.CRUD.GET_ALL,{})}}return T.\u0275fac=function(g){return new(g||T)(A.LFG(I.eN))},T.\u0275prov=A.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},2324:(R,O,s)=>{s.d(O,{a:()=>G});var t=s(2382),p=s(727),i=s(5e3),A=s(9291),I=s(9406),b=s(6458),T=s(5315),h=s(9783),g=s(9808),f=s(1424),v=s(4036),P=s(845);function M(m,D){if(1&m&&(i.TgZ(0,"div"),i._UZ(1,"i"),i.TgZ(2,"span",3),i._uU(3),i.qZA()()),2&m){const _=i.oxw();i.xp6(1),i.Gre("",_.dialogConfig.icon," mr-2"),i.xp6(2),i.Oqu(_.dialogConfig.header)}}function L(m,D){1&m&&(i.TgZ(0,"span",15),i._uU(1,"*"),i.qZA())}function K(m,D){if(1&m&&(i.TgZ(0,"span",11),i._UZ(1,"input",12),i.TgZ(2,"label",13),i._uU(3),i.YNc(4,L,2,0,"span",14),i.qZA()()),2&m){const _=i.oxw().$implicit;i.xp6(1),i.s9C("formControlName",_.fieldId),i.s9C("required",_.required),i.xp6(2),i.hij("",_.label," "),i.xp6(1),i.Q6J("ngIf",_.required)}}function Z(m,D){1&m&&(i.TgZ(0,"span",15),i._uU(1,"*"),i.qZA())}const j=function(){return[]};function J(m,D){if(1&m&&(i.TgZ(0,"span",16),i._UZ(1,"p-dropdown",17),i.TgZ(2,"label",18),i._uU(3),i.YNc(4,Z,2,0,"span",14),i.qZA()()),2&m){const _=i.oxw().$implicit,E=i.oxw(2);i.xp6(1),i.s9C("formControlName",_.fieldId),i.Q6J("options","user-management"==E.dialogConfig.name?E.profileList:i.DdM(7,j))("required",_.required)("optionValue","user-management"==E.dialogConfig.name?"id":"")("autoDisplayFirst",!1),i.xp6(2),i.Oqu(_.label+" "),i.xp6(1),i.Q6J("ngIf",_.required)}}function B(m,D){if(1&m&&(i.TgZ(0,"div",8),i._UZ(1,"br"),i.YNc(2,K,5,4,"span",9),i.YNc(3,J,5,8,"span",10),i.qZA()),2&m){const _=D.$implicit;i.xp6(2),i.Q6J("ngIf","input"==_.element),i.xp6(1),i.Q6J("ngIf","dropdown"==_.element)}}function W(m,D){if(1&m){const _=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(){const w=i.CHM(_).$implicit,V=i.oxw(3);return"reset"==w.type?V.cancel():""}),i.qZA()}if(2&m){const _=D.$implicit,E=i.oxw(3);i.s9C("type",_.type),i.s9C("label",_.label),i.Q6J("ngClass","submit"==_.type?"p-button-raised p-button-danger red-button":"reset"==_.type?" p-button-danger p-button-text white-button":"")("disabled","Create"==_.label&&E.dialogForm.invalid)}}function Q(m,D){if(1&m&&(i.TgZ(0,"div",19)(1,"div",20),i.YNc(2,W,1,4,"button",21),i.qZA()()),2&m){const _=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",_.dialogConfig.buttons)}}function Y(m,D){if(1&m){const _=i.EpF();i.TgZ(0,"form",4),i.NdJ("ngSubmit",function(){return i.CHM(_),i.oxw().onSubmit()}),i._UZ(1,"hr"),i.TgZ(2,"div",5),i.YNc(3,B,4,2,"div",6),i.qZA(),i.YNc(4,Q,3,1,"div",7),i.qZA()}if(2&m){const _=i.oxw();i.Q6J("formGroup",_.dialogForm),i.xp6(3),i.Q6J("ngForOf",_.dialogConfig.inputs),i.xp6(1),i.Q6J("ngIf",!_.dialogConfig.view)}}let G=(()=>{class m{constructor(_,E,U){this.profilesService=_,this.usersService=E,this.footprintService=U,this.profileListSubscriber=new p.w0,this.userManagementSubscriber=new p.w0,this.dialogForm=new t.cw({name:new t.NI("",[t.kI.required]),username:new t.NI("",[t.kI.required]),profileId:new t.NI})}ngOnInit(){}ngOnChanges(_){this.open=this.openDialog,this.dialogConfig&&("user-management"==this.dialogConfig.name&&(this.profileListSubscriber=this.profilesService.getProfilesList().subscribe(E=>{this.profileList=E.payload.profilesList.filter(U=>1==U.isActive),console.log(this.profileList)})),"user-management"==this.dialogConfig.name&&this.dialogConfig.id&&(console.log(this.dialogConfig.id),this.userManagementSubscriber=this.usersService.getUser(this.dialogConfig.id).subscribe(E=>{this.user=E.payload,this.footprintService.objectIdentifier=this.dialogConfig.id,this.footprintService.handleOldValue({name:this.user.name,username:this.user.username,profileId:this.user.profileId}),this.dialogForm.patchValue({name:this.user.name,username:this.user.username,profileId:this.user.profileId})})),this.dialogConfig.view&&this.dialogForm.disable())}onSubmit(){if(this.open=!1,console.log(this.dialogForm.value),"user-management"!=this.dialogConfig.name||this.dialogConfig.id)"user-management"==this.dialogConfig.name&&this.dialogConfig.id&&(console.log(this.user),this.footprintService.handleNewValue({name:this.dialogForm.value.name,username:this.dialogForm.value.username,profileId:this.dialogForm.value.profileId}),this.usersService.updateUser({name:this.dialogForm.value.name,lockFlag:this.user.lockFlag,username:this.dialogForm.value.username,profileId:this.dialogForm.value.profileId,userId:this.dialogConfig.id}));else{let _=this.dialogForm.value;this.footprintService.handleNewValue(_),this.usersService.addUser(_)}this.dialogForm.reset()}cancel(){this.open=!1,this.dialogForm.reset()}ngOnDestroy(){this.profileListSubscriber.unsubscribe(),this.userManagementSubscriber.unsubscribe()}}return m.\u0275fac=function(_){return new(_||m)(i.Y36(A.L),i.Y36(I.f),i.Y36(b.x))},m.\u0275cmp=i.Xpm({type:m,selectors:[["app-dialog"]],inputs:{dialogConfig:"dialogConfig",openDialog:"openDialog",closeDialog:"closeDialog"},features:[i.TTD],decls:3,vars:3,consts:[[1,"shared-dialog",3,"visible","closable","modal","visibleChange"],["pTemplate","header","class","flex justify-content-center"],["pTemplate","content"],[1,"text"],["autocomplete","off",1,"row","text","dialog-enhance","justify-content-center","content-style",3,"formGroup","ngSubmit"],[1,"row","flex","flex-wrap","pt-2"],["class","col-6 col-style",4,"ngFor","ngForOf"],["class","row flex justify-content-end text-center",4,"ngIf"],[1,"col-6","col-style"],["class","p-float-label",4,"ngIf"],["class","p-float-label modal",4,"ngIf"],[1,"p-float-label"],["id","float-input","type","text","pInputText","","maxlength","50",2,"width","25vw",3,"formControlName","required"],["for","float-input"],["class","required",4,"ngIf"],[1,"required"],[1,"p-float-label","modal"],["styleClass","tableDrop","id","float-dropdown","optionLabel","name","appendTo","body",3,"options","required","optionValue","formControlName","autoDisplayFirst"],["for","float-dropdown"],[1,"row","flex","justify-content-end","text-center"],[1,"flex","text-center"],["pButton","","class","mb-2 mr-2 text-center",3,"type","label","ngClass","disabled","click",4,"ngFor","ngForOf"],["pButton","",1,"mb-2","mr-2","text-center",3,"type","label","ngClass","disabled","click"]],template:function(_,E){1&_&&(i.TgZ(0,"p-dialog",0),i.NdJ("visibleChange",function(w){return E.open=w}),i.YNc(1,M,4,4,"ng-template",1),i.YNc(2,Y,5,3,"ng-template",2),i.qZA()),2&_&&i.Q6J("visible",E.open)("closable",!0)("modal",!0)},directives:[T.V,h.jx,t._Y,t.JL,t.sg,g.sg,g.O5,t.Fj,f.o,t.nD,t.JJ,t.u,t.Q7,v.Lt,P.Hq,g.mk],styles:[".red-button[_ngcontent-%COMP%], .white-color[_ngcontent-%COMP%]{width:8rem}.red-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:var(--primaryColor)!important}.content-style[_ngcontent-%COMP%]{padding:0 24px 24px}.col-style[_ngcontent-%COMP%]{text-transform:capitalize;padding-bottom:1.5rem}.dropdown-label[_ngcontent-%COMP%]{color:#6c757d;font-size:15px;padding-left:7px}"]}),m})()},6709:(R,O,s)=>{s.d(O,{a:()=>Ct});var t=s(5e3),p=s(9783),i=s(9406),A=s(9291),I=s(8753),b=s(3514),T=s(9185),h=s(1081),g=s(7840),f=s(6458),v=s(9527),P=s(5023),M=s(4255),L=s(9808),K=s(1424),Z=s(242),j=s(2382),J=s(845),B=s(4036),W=s(2324),Q=s(9114);const Y=["dt"];function G(a,c){if(1&a&&(t.TgZ(0,"th",13)(1,"div",14),t._uU(2),t._UZ(3,"p-columnFilter",15)(4,"p-sortIcon",16),t.qZA()()),2&a){const e=c.$implicit;t.s9C("pSortableColumn",e.fieldId),t.xp6(2),t.hij(" ",e.title," "),t.xp6(1),t.s9C("field",e.fieldId),t.xp6(1),t.s9C("field",e.fieldId)}}function m(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"i",22),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).exportExcel()}),t.qZA()}}function D(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"span",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).copyToClipboard()}),t._UZ(1,"i",24),t._uU(2," Copy "),t.qZA()}}function _(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"div",14)(1,"span",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(2);return"Export as Excel"==o.title?l.exportExcel():""}),t.YNc(2,m,1,0,"i",20),t._uU(3),t.qZA(),t.YNc(4,D,3,0,"span",21),t.qZA()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngClass","Export as Excel"==e.title?"export":""),t.xp6(1),t.Q6J("ngIf","Export as Excel"==e.title),t.xp6(1),t.hij(" ",e.title," "),t.xp6(1),t.Q6J("ngIf","transferAdjustment"==n.table.name)}}function E(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"div",25)(1,"div",26)(2,"span",27),t._UZ(3,"i",28),t.TgZ(4,"input",29),t.NdJ("input",function(o){return t.CHM(e),t.oxw(3).applyFilterGlobal(o,"contains")}),t.qZA()()()()}if(2&a){const e=t.oxw(3);t.Q6J("ngClass","transferAdjustment"==e.table.name?"align-end":"")}}function U(a,c){if(1&a&&(t.TgZ(0,"th"),t.YNc(1,_,5,4,"div",17),t.YNc(2,E,5,1,"div",18),t.qZA()),2&a){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf","search"!==e.title&&e.show),t.xp6(1),t.Q6J("ngIf","search"==e.title&&e.show)}}function w(a,c){if(1&a&&(t.TgZ(0,"tr",8),t.YNc(1,G,5,4,"th",9),t.TgZ(2,"th")(3,"div",10)(4,"span",11),t._uU(5,"|"),t.qZA()()(),t.YNc(6,U,3,2,"th",12),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.table.cols),t.xp6(5),t.Q6J("ngForOf",e.table.extracols)}}const V=function(a){return{"locked-row":a}};function X(a,c){if(1&a&&(t.TgZ(0,"td",25)(1,"div",25)(2,"span"),t._uU(3),t.qZA()()()),2&a){const e=c.$implicit,n=t.oxw().$implicit,o=t.oxw();t.Q6J("ngClass",t.VKq(6,V,null==n?null:n.lockFlag)),t.xp6(1),t.Tol(e.classStyle),t.Q6J("ngClass","validation"!=o.table.name&&"manualAdjustment"!=o.table.name||0!=n[e.fieldId]?"":"grayBG"),t.xp6(2),t.Oqu(null!=n[e.fieldId]&&n[e.fieldId].name?n[e.fieldId].name:n[e.fieldId])}}function $(a,c){if(1&a&&(t.TgZ(0,"span",43),t._uU(1),t.qZA()),2&a){const e=t.oxw(3).$implicit,n=t.oxw();t.xp6(1),t.hij("",e.lockFlag?n.unlockUser+"User":n.lockUser+"User"," ")}}function H(a,c){if(1&a&&(t.TgZ(0,"span",43),t._uU(1),t.qZA()),2&a){const e=t.oxw(3).$implicit;t.xp6(1),t.hij("",e.isActive?"Active":"Not active"," ")}}const z=function(a,c){return{"icon-unlock":a,"icon-lock-open":c}};function q(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"div",38)(1,"div",39),t._UZ(2,"i",40),t.YNc(3,$,2,1,"span",41),t.YNc(4,H,2,1,"span",41),t.qZA(),t._uU(5),t.TgZ(6,"p-inputSwitch",42),t.NdJ("ngModelChange",function(o){return t.CHM(e),t.oxw(3).lck=o})("onChange",function(){t.CHM(e);const o=t.oxw(2).$implicit;return t.oxw().updateLockFlag(o)}),t.qZA()()}if(2&a){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(2),t.Q6J("ngClass",t.WLB(6,z,!e.lockFlag,e.lockFlag)),t.xp6(1),t.Q6J("ngIf","users"==n.table.name),t.xp6(1),t.Q6J("ngIf","profiles"==n.table.name),t.xp6(1),t.hij(" ",n.getFlag("profiles"==n.table.name?e.isActive:e.lockFlag)," "),t.xp6(1),t.Q6J("ngModel",n.lck)("disabled",!n.enableUpdate)}}function tt(a,c){1&a&&(t.TgZ(0,"span"),t._UZ(1,"i",48),t._uU(2," Edit "),t.qZA())}function et(a,c){1&a&&(t.TgZ(0,"span"),t._UZ(1,"i",49),t._uU(2," View Details "),t.qZA())}function nt(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"button",47),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).$implicit,l=t.oxw();return l.edit("users"==l.table.name?o.userId:o.id)}),t.YNc(1,tt,3,0,"span",36),t.YNc(2,et,3,0,"span",36),t.qZA()}if(2&a){const e=t.oxw(3).$implicit,n=t.oxw();t.Q6J("disabled",e.lockFlag),t.xp6(1),t.Q6J("ngIf",n.enableUpdate),t.xp6(1),t.Q6J("ngIf",n.viewDetails&&!n.enableUpdate)}}function it(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(o){t.CHM(e);const l=t.oxw(3).$implicit,u=t.oxw();return u.delete(o,"users"==u.table.name?l.userId:l.id)}),t._UZ(1,"i",51),t._uU(2," Delete "),t.qZA()}if(2&a){const e=t.oxw(3).$implicit;t.Q6J("disabled",e.lockFlag)}}function at(a,c){if(1&a&&(t.TgZ(0,"div",44),t.YNc(1,nt,3,3,"button",45),t.YNc(2,it,3,1,"button",46),t.qZA()),2&a){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.enableUpdate||e.viewDetails),t.xp6(1),t.Q6J("ngIf",e.table.deleteFlag&&e.enableDelete)}}function lt(a,c){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit,n=t.oxw().$implicit;t.xp6(1),t.AsE("",e.fieldTitle," ",n[e.fieldId],"")}}function ot(a,c){if(1&a&&(t.TgZ(0,"span",57),t._uU(1," Out Of limit: Max Number of Subs is 3000 "),t.qZA()),2&a){const e=t.oxw(4);t.Q6J("ngClass","manualAdjustment"==e.table.name?"err-subs":"")}}function st(a,c){1&a&&(t.TgZ(0,"span",58),t._uU(1," *Required value "),t.qZA())}const rt=function(a){return{err:a}};function _t(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"span",52)(2,"input",53,54),t.NdJ("input",function(){t.CHM(e);const o=t.MAs(3),l=t.oxw().$implicit,u=t.oxw(),r=u.$implicit,x=u.rowIndex;return t.oxw().ChangeData(o,l.fieldId,l.type,r,x)}),t.qZA(),t.TgZ(4,"label"),t._uU(5),t.qZA()(),t.YNc(6,ot,2,1,"span",55),t.YNc(7,st,2,0,"span",56),t.qZA()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(),o=n.$implicit,l=n.$implicit,u=n.rowIndex,r=t.oxw();t.xp6(1),t.Q6J("ngClass","transferAdjustment"==r.table.name?"margin-b":""),t.xp6(1),t.s9C("type",e.inputType),t.Q6J("value","manualAdjustment"==r.table.name?o.numberOfSubs:null)("ngClass",t.VKq(8,rt,r.max))("tabIndex","manualAdjustment"==r.table.name?-1:0),t.xp6(3),t.hij("",e.label," "),t.xp6(1),t.Q6J("ngIf",r.max&&r.targetRow==l.ratePlanKey),t.xp6(1),t.Q6J("ngIf",r.adjustNotValid&&r.editableRowId===u)}}function pt(a,c){1&a&&t._UZ(0,"i",66)}function ct(a,c){1&a&&t._UZ(0,"i",67)}function ut(a,c){1&a&&t._UZ(0,"i",68)}function dt(a,c){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,pt,1,0,"i",63),t.YNc(2,ct,1,0,"i",64),t.YNc(3,ut,1,0,"i",65),t.TgZ(4,"span"),t._uU(5),t.qZA()()),2&a){const e=c.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.value),t.xp6(1),t.Q6J("ngIf",-1==e.value),t.xp6(1),t.Q6J("ngIf",0==e.value),t.xp6(2),t.hij("",e.trxTypeName," ")}}function gt(a,c){1&a&&t.YNc(0,dt,6,4,"ng-template",62)}function ft(a,c){1&a&&(t.TgZ(0,"span",69),t._uU(1," *Required value "),t.qZA())}function mt(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"div",59)(1,"div",25)(2,"p-dropdown",60),t.NdJ("onChange",function(o){t.CHM(e);const l=t.oxw().$implicit,u=t.oxw(),r=u.$implicit,x=u.rowIndex;return t.oxw().ChangeData(o,l.fieldId,l.type,r,x)}),t.YNc(3,gt,1,0,null,36),t.qZA()(),t.YNc(4,ft,2,0,"span",61),t.qZA()}if(2&a){const e=t.oxw().$implicit,n=t.oxw(),o=n.$implicit,l=n.rowIndex,u=t.oxw();t.xp6(1),t.Q6J("ngClass","transferAdjustment"==u.table.name?"margin-b":""),t.xp6(1),t.s9C("optionLabel",e.optionLabel),t.MGl("placeholder","",e.placeholder," "),t.Q6J("options",e.data)("showClear",!0)("disabled","manualAdjustment"==u.table.name&&(!o.numberOfSubs||0==o.numberOfSubs)||"validation"==u.table.name&&0==o[e.fieldId]),t.xp6(1),t.Q6J("ngIf","validation"==u.table.name||"manualAdjustment"==u.table.name),t.xp6(1),t.Q6J("ngIf",u.rateplanNotValid&&u.editableRowId===l)}}function ht(a,c){if(1&a&&(t.TgZ(0,"td",25),t.YNc(1,q,7,9,"div",34),t.YNc(2,at,3,2,"div",35),t.TgZ(3,"div",25),t.YNc(4,lt,2,2,"span",36),t.YNc(5,_t,8,10,"div",36),t.YNc(6,mt,5,8,"div",37),t.qZA()()),2&a){const e=c.$implicit,n=t.oxw(2);t.Q6J("ngClass","manualAdjustment"==n.table.name||"transferAdjustment"==n.table.name?"position":""),t.xp6(1),t.Q6J("ngIf","lockFlag"==e.fieldId),t.xp6(1),t.Q6J("ngIf",n.table.editFlag&&n.table.deleteFlag&&"lockFlag"!==e.fieldId),t.xp6(1),t.Q6J("ngClass","transferAdjustment"==n.table.name?"align-end":""),t.xp6(1),t.Q6J("ngIf",e.fieldTitle),t.xp6(1),t.Q6J("ngIf","input"==e.type),t.xp6(1),t.Q6J("ngIf","dropdown"==e.type)}}function bt(a,c){if(1&a&&(t.TgZ(0,"tr",30),t.YNc(1,X,4,8,"td",31),t.TgZ(2,"div",32)(3,"span",33),t._uU(4,"|"),t.qZA()(),t.YNc(5,ht,7,7,"td",31),t.qZA()),2&a){const e=c.$implicit,n=c.rowIndex,o=t.oxw();t.Q6J("pSelectableRow",e)("pSelectableRowIndex",n)("ngClass","transferAdjustment"!==o.table.name?"unselectable":""),t.xp6(1),t.Q6J("ngForOf",o.table.cols),t.xp6(4),t.Q6J("ngForOf",o.table.extracols)}}function Tt(a,c){1&a&&(t.TgZ(0,"tr",8)(1,"td",70),t._uU(2,"No Data found."),t.qZA()())}function vt(a,c){if(1&a){const e=t.EpF();t.TgZ(0,"button",72),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).update()}),t.qZA()}if(2&a){const e=t.oxw(2);t.Q6J("disabled",e.max||"manualAdjustment"==e.table.name&&0==e.manualAdjustList.length||"validation"==e.table.name&&0==e.aggregationList.length||"transferAdjustment"==e.table.name&&(0==e.transferAdjustList.length||e.rateplanNotValid))}}function xt(a,c){if(1&a&&t.YNc(0,vt,1,1,"button",71),2&a){const e=t.oxw();t.Q6J("ngIf",e.table.hasSubmit&&e.enableUpdatePatch)}}const Et=function(){return[5,15,25,50]};var F=(()=>{return(a=F||(F={}))[a.UP_ARROW=38]="UP_ARROW",a[a.DOWN_ARROW=40]="DOWN_ARROW",a[a.RIGHT_ARROW=39]="RIGHT_ARROW",a[a.LEFT_ARROW=37]="LEFT_ARROW",a[a.TAB_KEY=9]="TAB_KEY",F;var a})();let Ct=(()=>{class a{constructor(e,n,o,l,u,r,x,d,N,C,S,y){this.primengConfig=e,this.usersService=n,this.profilesService=o,this.router=l,this.confirmationService=u,this.headerService=r,this.validationService=x,this.manualAgjustService=d,this.transferAdjustService=N,this.footPrintService=C,this.exportExcelService=S,this.clipboardApi=y,this.loading=!1,this.pageSize=5,this.lockUser="Lock the ",this.unlockUser="Unlock the ",this.aggregationList=[],this.manualAdjustList=[],this.transferAdjustList=[]}keyEvent(e){e.keyCode==F.TAB_KEY&&console.log(e)}ngOnInit(){this.primengConfig.ripple=!0,this.viewMode=!(!this.viewDetails||this.enableUpdate)}openUserDialog(e){this.usersService.openUserDialog(e,this.viewMode),this.openDialog=this.usersService.openDialog,this.dialogConfig=this.usersService.dialogConfig}applyFilterGlobal(e,n){this.dt.filterGlobal(e.target.value,n)}edit(e){if("users"===this.table.name)this.openUserDialog(e);else if("profiles"===this.table.name){this.profilesService.showSubject.next(!1);let n=this.viewMode?"daily/profiles/view/":"daily/profiles/edit/";n+=e,this.router.navigateByUrl(n)}}updateLockFlag(e){if("users"==this.table.name)this.footPrintService.objectIdentifier=e.id,this.footPrintService.handleOldValue({lockFlag:1==this.lck?0:1}),this.footPrintService.handleNewValue({lockFlag:1==this.lck?1:0}),this.usersService.updateUser({name:e.name,userId:e.userId,username:e.username,lockFlag:1==this.lck?1:0,profileId:e.profileId}),this.lck=null;else if("profiles"==this.table.name){let n=e;n.isActive=1==this.lck?1:0,this.footPrintService.objectIdentifier=e.id,this.footPrintService.handleOldValue({isActive:1==this.lck?0:1}),this.footPrintService.handleNewValue({isActive:1==this.lck?1:0}),this.profileSubscription=this.profilesService.manageProfile(n,"edit").subscribe(u=>{})}}delete(e,n){this.confirmationService.confirm({target:e.target,message:"users"===this.table.name?"Are you sure that you want to delete this user ?":"Are you sure that you want to delete this profile ?",icon:"pi pi-exclamation-triangle",accept:()=>{this.footPrintService.objectIdentifier=n,"users"===this.table.name&&this.usersService.deleteUser(n),"profiles"===this.table.name&&this.profilesService.deleteProfile(n).subscribe(o=>{this.profilesService.getProfilesList().subscribe(l=>{this.table.data=l.payload.profilesList})})},reject:()=>{}})}getFlag(e){this.lck=1==e}ChangeData(e,n,o,l,u){var r,x,d,N;if(console.log("event",e.value),this.epochDate=localStorage.getItem("date"),"validation"==this.table.name)if("inSubs"==n?l.trxInSubsValue=+(null===(r=e.value)||void 0===r?void 0:r.value):"outSubs"==n&&(l.trxOutSubsValue=+(null===(x=e.value)||void 0===x?void 0:x.value)),this.calculationValidations(l.ratePlanKey,{trxInSubs:l.trxInSubsValue?+l.trxInSubsValue:0,trxOutSubs:l.trxOutSubsValue?+l.trxOutSubsValue:0,inSubs:+l.inSubs,outSubs:+l.outSubs}),this.aggregationList.length){let S=this.aggregationList.find(y=>y.ratePlanKey===l.ratePlanKey&&l.dwhStatusKey===y.dwhStatusKey);S?("inSubs"==n&&(S.inAdjustFlag=null!==e.value?1:0,S.inSubTransactionTypeKey=null===(d=e.value)||void 0===d?void 0:d.trxTypeKey),"outSubs"==n&&(S.outAdjustFlag=null!==e.value?1:0,S.outSubTransactionTypeKey=null===(N=e.value)||void 0===N?void 0:N.trxTypeKey)):this.fillList(e,l,n)}else this.fillList(e,l,n);if("manualAdjustment"==this.table.name)if(this.targetRow=l.ratePlanKey,this.max="input"==o&&e.value>3e3,"input"===o&&(l.numberOfSubs=e.value),this.manualAdjustList.length){let C=this.manualAdjustList.find(S=>S.ratePlanKey==l.ratePlanKey);if(C)if("dropdown"==o&&(C.trxTypeKey=null==e.value?0:+e.value.trxTypeKey),"input"==o&&(C.numberOfSubs=null==+e.value?0:+e.value),C.trxTypeKey&&C.numberOfSubs){let y=this.table.extracols[0].data.find(k=>k.trxTypeKey==(null==C?void 0:C.trxTypeKey));l.calculated=!0,this.calculation(l.ratePlanKey,+y.value,+C.numberOfSubs)}else this.table.data[u].closing=this.originalData[u].closing,this.table.data[u].variance=this.originalData[u].variance;else this.fillList(e,l),this.handleManualAdjusment(e,n,o,l,u)}else this.fillList(e,l),this.handleManualAdjusment(e,n,o,l,u);if("transferAdjustment"==this.table.name){let C;"dropdown"==o&&(l.ratePlanObj=e.value),"input"==o&&(l.adjusts=+e.value),this.adjustNotValid=!(!l.ratePlanObj||l.adjusts),this.rateplanNotValid=!(l.ratePlanObj||!l.adjusts),this.editableRowId=u;let S=!1;this.transferAdjustList.length&&this.transferAdjustList.map((y,k)=>{C=k,y.trxTypeKey==l.trxTypeKey&&(S=!0,y.numberOfSubs=l.adjusts?l.adjusts:0,y.ratePlanKey=l.ratePlanObj?l.ratePlanObj.ratePlanKey:0,y.ratePlanGroupKey=l.ratePlanObj?l.ratePlanObj.ratePlanGroupKey:0,y.ratePlanType=l.ratePlanObj?l.ratePlanObj.ratePlanType:0)}),!l.ratePlanObj&&!l.adjusts&&void 0!==C&&this.transferAdjustList.splice(C,1),S||this.fillList(e,l)}}handleManualAdjusment(e,n,o,l,u){let r=this.manualAdjustList.find(x=>x.ratePlanKey==l.ratePlanKey);if(r)if("dropdown"==o&&(r.trxTypeKey=null==e.value?0:+e.value.trxTypeKey),"input"==o&&(r.numberOfSubs=null==+e.value?0:+e.value),r.trxTypeKey&&r.numberOfSubs){let d=this.table.extracols[0].data.find(N=>N.trxTypeKey==(null==r?void 0:r.trxTypeKey));l.calculated=!0,this.calculation(l.ratePlanKey,+d.value,+r.numberOfSubs)}else this.table.data[u].closing=this.originalData[u].closing,this.table.data[u].variance=this.originalData[u].variance}calculation(e,n,o){let u=+this.originalData.find(r=>r.ratePlanKey==e).closing;this.table.data.map(r=>{r.ratePlanKey==e&&(r.closing=u+Math.abs(o),r.variance=r.closing-r.opening)})}calculationValidations(e,n){const o=this.table.data.filter(r=>r.ratePlanKey===e);let l=this.originalData.find(r=>r.ratePlanKey==e),u=+l.closing;if(o.length>1){let r=0,x=0;this.table.data.map((d,N)=>{let C=d.trxInSubsValue&&d.inSubs?d.trxInSubsValue*Math.abs(d.inSubs):0,S=d.trxOutSubsValue&&d.outSubs?d.trxOutSubsValue*Math.abs(d.outSubs):0;d.ratePlanKey==e&&(r=d.calc?r+d.calc:r,d.calc=C+S,x+=d.calc),this.table.data.length-1===N&&this.validationService.updateBalance.next({oldCalc:r,newCalc:x})}),this.table.data.map(d=>{d.ratePlanKey==e&&(d.closing=u+x,d.variance=d.closing-d.opening)})}else{let r=n.trxInSubs&&n.inSubs?n.trxInSubs*Math.abs(n.inSubs):0,x=n.trxOutSubs&&n.outSubs?n.trxOutSubs*Math.abs(n.outSubs):0;this.table.data.map(d=>{if(d.ratePlanKey==e){let N=d.calc?d.calc:0;d.closing=u+r+x,d.variance=d.closing-d.opening,!r&&!x&&(d.closing=l.closing,d.variance=l.variance),d.calc=r+x,this.validationService.updateBalance.next({oldCalc:N,newCalc:d.calc})}})}}fillList(e,n,o){var l,u;"manualAdjustment"==this.table.name?this.manualAdjustList.push({dateKey:n.dateKey,dwhStatusKey:200,numberOfSubs:null==n.numberOfSubs?0:n.numberOfSubs,trxTypeKey:e.value.trxTypeKey?+e.value.trxTypeKey:0,ratePlanKey:n.ratePlanKey,ratePlanGroupKey:n.ratePlanGroupKey,ratePlanType:n.ratePlanType}):"validation"==this.table.name?this.aggregationList.push({dateKey:this.epochDate,inAdjustFlag:"inSubs"==o&&null!==e.value?1:0,outAdjustFlag:"outSubs"==o&&null!==e.value?1:0,ratePlanKey:n.ratePlanKey,dwhStatusKey:n.dwhStatusKey,dayDateKey:n.dateKey,inSubTransactionTypeKey:"inSubs"==o?null===(l=null==e?void 0:e.value)||void 0===l?void 0:l.trxTypeKey:"",outSubTransactionTypeKey:"outSubs"==o?null===(u=null==e?void 0:e.value)||void 0===u?void 0:u.trxTypeKey:""}):"transferAdjustment"==this.table.name&&this.transferAdjustList.push({numberOfSubs:n.adjusts?n.adjusts:0,dataKey:+n.dateKey,ratePlanKey:n.ratePlanObj?n.ratePlanObj.ratePlanKey:0,ratePlanGroupKey:n.ratePlanObj?n.ratePlanObj.ratePlanGroupKey:0,trxTypeKey:+n.trxTypeKey,dwhStatusKey:1,pgGroupKey:1,ratePlanType:n.ratePlanObj?n.ratePlanObj.ratePlanType:0})}update(){"validation"==this.table.name&&(this.footPrintService.handleNewValue(this.aggregationList,"ratePlanKey"),console.log("aggregationList",this.aggregationList),this.validationService.submitData(this.aggregationList).subscribe(e=>{this.aggregationList=[],this.footPrintService.refreshFlag=!0,this.validationService.getvalidationList(this.epochDate).subscribe(n=>{this.table.data=n.payload.list,this.originalData=JSON.parse(JSON.stringify(n.payload.list))})})),"manualAdjustment"==this.table.name&&(this.footPrintService.handleNewValue(this.manualAdjustList,"ratePlanKey"),this.manualAgjustService.updateManualAdjustment(this.manualAdjustList).subscribe(e=>{this.manualAdjustList=[],this.footPrintService.refreshFlag=!0,this.manualAgjustService.getManualAdjustment(this.epochDate).subscribe(n=>{var o;this.table.data=n.payload,null===(o=this.table.data)||void 0===o||o.map(l=>{l.variance=(l.opening?l.opening:0)-(l.closing?l.closing:0),l.numberOfSubs=-l.variance}),this.originalData=JSON.parse(JSON.stringify(this.table.data))})})),"transferAdjustment"==this.table.name&&(this.footPrintService.handleNewValue(this.transferAdjustList,"trxTypeKey"),this.transferSubscription=this.transferAdjustService.updateTransferAdjustment(this.transferAdjustList).subscribe(e=>{this.transferAdjustList=[],this.footPrintService.refreshFlag=!0,this.transferAdjustService.getTransferAdjustment(this.epochDate).subscribe(n=>this.table.data=n.payload.getTransferAdjustmentList)}))}exportExcel(){let e;e="transferAdjustment"==this.table.name?this.table.data.map(n=>({trxTypeName:n.trxTypeName,subs:n.subs})):this.table.data,this.exportExcelService.exportAsExcelFile(e,"report")}copyToClipboard(){let e=this.selectedData.map(n=>(n=[n.trxTypeName,n.subs],console.log(n),n));e=e.map(n=>n.join("\t")).join("\n"),this.clipboardApi.copyFromContent(e)}sortColumn(e){var n,o,l;console.log("sort",e),console.log("sort",this.table.data),(null===(n=this.prevSortStatus)||void 0===n?void 0:n.field)==e.field&&-1==(null===(o=this.prevSortStatus)||void 0===o?void 0:o.order)&&(null===(l=this.dt)||void 0===l||l.reset()),this.prevSortStatus=-1==e.order?e:void 0}ngOnDestroy(){var e,n;null===(e=this.profileSubscription)||void 0===e||e.unsubscribe(),null===(n=this.transferSubscription)||void 0===n||n.unsubscribe()}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(p.b4),t.Y36(i.f),t.Y36(A.L),t.Y36(I.F0),t.Y36(p.YP),t.Y36(b.r),t.Y36(T.R),t.Y36(h.G),t.Y36(g.J),t.Y36(f.x),t.Y36(v.O),t.Y36(P.Yv))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-table"]],viewQuery:function(e,n){if(1&e&&t.Gf(Y,5),2&e){let o;t.iGM(o=t.CRH())&&(n.dt=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("keyup",function(l){return n.keyEvent(l)},!1,t.Jf7)},inputs:{table:"table",globalFilterFields:"globalFilterFields",enableUpdate:"enableUpdate",enableUpdatePatch:"enableUpdatePatch",enableDelete:"enableDelete",viewDetails:"viewDetails",originalData:"originalData"},decls:8,vars:12,consts:[["styleClass","p-datatable-striped",1,"table",3,"value","paginator","rows","loading","globalFilterFields","rowsPerPageOptions","selectionMode","selection","selectionChange","onSort"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorright"],[3,"dialogConfig","openDialog","closeDialog"],["header","Confirmation","icon","pi pi-exclamation-triangle",1,"confirm-dialog"],["tabIndex","-1"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[1,"mt-2"],[1,"break"],[4,"ngFor","ngForOf"],[3,"pSortableColumn"],[1,"p-d-flex","p-jc-between","p-ai-center"],["type","text","display","menu",1,"col-filter",3,"field"],[3,"field"],["class","p-d-flex p-jc-between p-ai-center",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass","click"],["class","pi pi-file-excel",3,"click",4,"ngIf"],["class","copy",3,"click",4,"ngIf"],[1,"pi","pi-file-excel",3,"click"],[1,"copy",3,"click"],[1,"pi","pi-clone"],[3,"ngClass"],[1,"p-d-flex","p-jc-between","p-ai-center","search-style"],[1,"p-input-icon-left","p-ml-auto"],[1,"pi","pi-search","pr-5"],["pInputText","","type","text","placeholder","Search...","maxlength","50",1,"search-input",3,"input"],["tabIndex","-1",3,"pSelectableRow","pSelectableRowIndex","ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"mt-3"],[1,"break","pl-3"],["class","lockWidth flex",4,"ngIf"],["class","flex justify-content-center",4,"ngIf"],[4,"ngIf"],["class","drp",4,"ngIf"],[1,"lockWidth","flex"],[1,"flex","lock-span"],[1,"pr-2",3,"ngClass"],["class","pr-2",4,"ngIf"],[3,"ngModel","disabled","ngModelChange","onChange"],[1,"pr-2"],[1,"flex","justify-content-center"],["pButton","","type","button","class","edit-button mr-3","iconPos","left",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","delete-button","iconPos","left",3,"disabled","click",4,"ngIf"],["pButton","","type","button","iconPos","left",1,"edit-button","mr-3",3,"disabled","click"],[1,"icon-edit"],[1,"icon-eye"],["pButton","","type","button","iconPos","left",1,"delete-button",3,"disabled","click"],[1,"pi","pi-trash"],[1,"p-float-label",3,"ngClass"],["pInputText","","maxlength","50","max","3000",2,"width","16vw",3,"type","value","ngClass","tabIndex","input"],["input",""],["class","error",3,"ngClass",4,"ngIf"],["class","error",4,"ngIf"],[1,"error",3,"ngClass"],[1,"error"],[1,"drp"],["styleClass","tableDropX",3,"options","optionLabel","placeholder","showClear","disabled","onChange"],["class","error error-left",4,"ngIf"],["pTemplate","item"],["class","pi pi-arrow-up",4,"ngIf"],["class","pi pi-arrow-down",4,"ngIf"],["class","pi pi-minus",4,"ngIf"],[1,"pi","pi-arrow-up"],[1,"pi","pi-arrow-down"],[1,"pi","pi-minus"],[1,"error","error-left"],["colspan","7",2,"text-align","center"],["pButton","","class","btn btn-basic","type","submit","label","Submit",3,"disabled","click",4,"ngIf"],["pButton","","type","submit","label","Submit",1,"btn","btn-basic",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"p-table",0,1),t.NdJ("selectionChange",function(l){return n.selectedData=l})("onSort",function(l){return n.sortColumn(l)}),t.YNc(2,w,7,2,"ng-template",2),t.YNc(3,bt,6,5,"ng-template",3),t.YNc(4,Tt,3,0,"ng-template",4),t.YNc(5,xt,1,1,"ng-template",5),t.qZA(),t._UZ(6,"app-dialog",6)(7,"p-confirmDialog",7)),2&e&&(t.Q6J("value",n.table.data)("paginator",n.table.pagination&&n.table.data&&n.table.data.length>0)("rows",n.pageSize)("loading",n.loading)("globalFilterFields",n.table.globalFilterFields)("rowsPerPageOptions",t.DdM(11,Et))("selectionMode","transferAdjustment"==n.table.name?"multiple":"")("selection",n.selectedData),t.xp6(6),t.Q6J("dialogConfig",n.dialogConfig)("openDialog",n.openDialog)("closeDialog",!n.openDialog))},directives:[M.iA,p.jx,L.sg,M.lQ,M.xl,M.fz,L.O5,L.mk,K.o,M.Ei,Z.Ql,j.JJ,j.On,J.Hq,B.Lt,W.a,Q.Q],styles:[".table[_ngcontent-%COMP%]{font-size:15px;font-family:Cairo;font-weight:700}.table[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:11rem;height:2rem;background:#ffffff 0% 0% no-repeat padding-box;border:.5px solid #bbbbbb;border-radius:24px;opacity:1;box-shadow:6px 5px 11px #d3d0d04f}.table[_ngcontent-%COMP%]   .break[_ngcontent-%COMP%]{font-family:icomoon;font-weight:lighter;font-size:49px}.table[_ngcontent-%COMP%]   .icon-unlock[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   .icon-lock-open[_ngcontent-%COMP%]{font-size:13px;margin-top:.3rem}.table[_ngcontent-%COMP%]   .lockWidth[_ngcontent-%COMP%]{width:15rem}.table[_ngcontent-%COMP%]   .locked-row[_ngcontent-%COMP%]{color:#c0c5ce}.table[_ngcontent-%COMP%]   .lock-span[_ngcontent-%COMP%]{width:10rem;width:8rem;margin-top:.8rem}.tab-style[_ngcontent-%COMP%]{padding:inherit;text-align:center;border-radius:8px;opacity:1}.green[_ngcontent-%COMP%]{color:#12753d;background-color:#31d57836}.blue[_ngcontent-%COMP%]{color:#305e80;background-color:#36acff36}.red[_ngcontent-%COMP%]{color:#a94f48;background-color:#ee302336}.export[_ngcontent-%COMP%], .copy[_ngcontent-%COMP%]{color:var(--primaryColor);cursor:pointer}.copy[_ngcontent-%COMP%]{margin:0 15px}.err[_ngcontent-%COMP%]{color:var(--primaryColor);font-size:small;font-weight:lighter}.error[_ngcontent-%COMP%]{color:var(--primaryColor);font-size:small;font-weight:lighter;width:190px;position:absolute;bottom:0;left:-30px;text-align:center}.err-subs[_ngcontent-%COMP%]{color:var(--primaryColor);font-size:small;font-weight:lighter;width:unset;position:absolute;bottom:7px;left:unset}.error-left[_ngcontent-%COMP%]{left:25px}.position[_ngcontent-%COMP%]{position:relative}.margin-b[_ngcontent-%COMP%]{margin-bottom:5px}.icon-eye[_ngcontent-%COMP%]{font-size:13px;padding-right:.2rem;vertical-align:bottom}.unselectable[_ngcontent-%COMP%]{cursor:unset!important;outline:unset!important}.pi-arrow-up[_ngcontent-%COMP%], .pi-arrow-down[_ngcontent-%COMP%], .pi-minus[_ngcontent-%COMP%]{font-size:12px;color:#21af5f;font-weight:700;margin-right:6px}.pi-arrow-down[_ngcontent-%COMP%]{color:var(--primaryColor)}.pi-minus[_ngcontent-%COMP%]{color:#787672}"]}),a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac}),a})()},267:(R,O,s)=>{s.d(O,{G:()=>t});class t{}},7840:(R,O,s)=>{s.d(O,{J:()=>I});var t=s(4953),p=s(2340),i=s(5e3),A=s(520);let I=(()=>{class b{constructor(h){this.http=h}getTransferAdjustment(h){return this.http.post(p.N.url+t.X.TRANSFER_ENDPOINTS.REPORT_SERVICE+t.X.TRANSFER_ENDPOINTS.TRANSFER_ADJUSTMENT+t.X.TRANSFER_ENDPOINTS.AGGREGATION_DATA+t.X.CRUD.GET_ALL,{date:h})}updateTransferAdjustment(h){return this.http.post(p.N.url+t.X.TRANSFER_ENDPOINTS.REPORT_SERVICE+t.X.TRANSFER_ENDPOINTS.TRANSFER_ADJUSTMENT+t.X.TRANSFER_ENDPOINTS.AGGREGATION_DATA+t.X.CRUD.ADD,{addTransferAdjustmentRequests:h})}}return b.\u0275fac=function(h){return new(h||b)(i.LFG(A.eN))},b.\u0275prov=i.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},9406:(R,O,s)=>{s.d(O,{f:()=>T});var t=s(1135),p=s(8505),i=s(4953),A=s(2340),I=s(5e3),b=s(520);let T=(()=>{class h{constructor(f){this.http=f,this.pathUrl=A.N.url+i.X.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH+i.X.USERS_ENDPOINTS.USER,this.openDialog=!1,this.usersList=new t.X([])}get usersList$(){return this.usersList.asObservable()}openUserDialog(f,v){this.openDialog=!0,this.dialogConfig={header:f?v?"View Details":"Edit User":"New User",name:"user-management",icon:"icon icon-user",view:v,inputs:[{label:"Display Name",element:"input",type:"text",fieldId:"name",required:!f},{label:"Username",element:"input",type:"text",fieldId:"username",required:!f},{label:"User Profile",element:"dropdown",type:"singleSelect",fieldId:"profileId",required:!f}],buttons:[{label:f?"Update":"Create",type:"submit"},{label:"Cancel",type:"reset"}],id:f}}getUsersList(){return this.http.post(this.pathUrl+i.X.CRUD.GET_ALL,"").pipe((0,p.b)(v=>{var P,M;null===(P=v.payload)||void 0===P||P.users.map(L=>{L.profileName=L.profileModel.name}),this.usersList.next(null===(M=v.payload)||void 0===M?void 0:M.users)})).subscribe()}addUser(f){return this.http.post(this.pathUrl+i.X.CRUD.ADD,Object.assign(Object.assign({},f),{lockFlag:0})).pipe((0,p.b)(P=>{this.getUsersList()})).subscribe()}updateUser(f){return this.http.post(this.pathUrl+i.X.CRUD.UPDATE,f).pipe((0,p.b)(P=>{console.log(P),this.getUsersList()})).subscribe()}getUser(f){return console.log(f),this.http.post(this.pathUrl+i.X.CRUD.GET,{userId:f})}deleteUser(f){return this.http.post(this.pathUrl+i.X.CRUD.DELETE,{userId:f}).pipe((0,p.b)(P=>{console.log(P),this.getUsersList()})).subscribe()}}return h.\u0275fac=function(f){return new(f||h)(I.LFG(b.eN))},h.\u0275prov=I.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},9185:(R,O,s)=>{s.d(O,{R:()=>b});var t=s(7579),p=s(4953),i=s(2340),A=s(5e3),I=s(520);let b=(()=>{class T{constructor(g){this.http=g,this.updateBalance=new t.x,this.pathUrl=i.N.url+p.X.VALIDATION_ENDPOINTS.REPORT_SERVICE+p.X.VALIDATION_ENDPOINTS.VALIDATION_ENGINE}getvalidationList(g){return this.http.post(this.pathUrl+p.X.VALIDATION_ENDPOINTS.AGGREGATION_DATA+p.X.CRUD.GET_ALL,{date:g})}retrieveBalance(g){return this.http.post(this.pathUrl+p.X.VALIDATION_ENDPOINTS.BALANCES+p.X.CRUD.GET_ALL,{date:g})}submitData(g){return this.http.post(this.pathUrl+p.X.CRUD.UPDATE,{aggregationLists:g})}retrieveTransactionTypes(){return this.http.get(this.pathUrl+p.X.VALIDATION_ENDPOINTS.TRANSACTION_TYPE+p.X.CRUD.GET_ALL,{})}getMAxMinRatePlans(g){return this.http.post(i.N.url+p.X.VALIDATION_ENDPOINTS.REPORT_SERVICE+p.X.VALIDATION_ENDPOINTS.DASH_BOARD+p.X.VALIDATION_ENDPOINTS.AGGREGATION_DATA+p.X.CRUD.GET,{date:g})}}return T.\u0275fac=function(g){return new(g||T)(A.LFG(I.eN))},T.\u0275prov=A.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()}}]);