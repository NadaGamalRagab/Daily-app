"use strict";(self.webpackChunkDaily=self.webpackChunkDaily||[]).push([[546],{1546:(x,d,o)=>{o.r(d),o.d(d,{ValidationModule:()=>D});var s=o(9808),p=o(8753),h=o(9597),t=o(5e3),c=o(9185),u=o(3514),g=o(111);function v(e,n){if(1&e&&(t.TgZ(0,"div",6),t._UZ(1,"i"),t.TgZ(2,"span",7)(3,"span"),t._uU(4),t.qZA(),t.TgZ(5,"span",8),t._uU(6),t.ALo(7,"number"),t.qZA()()()),2&e){const a=n.$implicit;t.Gre("tab-style ",a.classStyle,""),t.Q6J("ngClass",0==a.count?"grayBG":""),t.xp6(1),t.Tol(a.icon),t.xp6(3),t.Oqu(a.name),t.xp6(2),t.Oqu(t.xi3(7,9,a.count,"2."))}}function b(e,n){if(1&e&&(t.TgZ(0,"div",4),t.YNc(1,v,8,12,"div",5),t.qZA()),2&e){const a=t.oxw();t.xp6(1),t.Q6J("ngForOf",a.tabs)}}let f=(()=>{class e{constructor(a){this.validationService=a}ngOnInit(){this.updateSubscription=this.validationService.updateBalance.subscribe(a=>{this.tabs[1].count=this.tabs[1].count-a.oldCalc,this.tabs[1].count=this.tabs[1].count+a.newCalc,this.tabs[2].count=this.tabs[1].count-this.tabs[0].count})}ngOnDestroy(){var a;null===(a=this.updateSubscription)||void 0===a||a.unsubscribe()}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(c.R))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-colorful-header"]],inputs:{title:"title",icon:"icon",tabs:"tabs",showBalance:"showBalance"},decls:6,vars:5,consts:[[1,"page-header"],[1,"page-title"],[1,"head-font"],["class","page-action",4,"ngIf"],[1,"page-action"],[3,"class","ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"info"],[2,"font-weight","600"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"span"),t.TgZ(3,"span",2),t._uU(4),t.qZA()(),t.YNc(5,b,2,1,"div",3),t.qZA()),2&a&&(t.xp6(2),t.Gre("",i.icon," head-icon"),t.xp6(2),t.hij(" ",i.title,""),t.xp6(1),t.Q6J("ngIf",i.showBalance))},directives:[s.O5,s.sg,s.mk],pipes:[s.JJ],styles:[".page-header[_ngcontent-%COMP%]{padding:0 9px;display:flex;justify-content:space-between}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{margin:auto 0}.page-header[_ngcontent-%COMP%]   .page-action[_ngcontent-%COMP%]{display:flex}.page-header[_ngcontent-%COMP%]   .page-action[_ngcontent-%COMP%]   .tab-style[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:136px;height:60px;border-radius:8px;opacity:1;margin-right:15px}.page-header[_ngcontent-%COMP%]   .page-action[_ngcontent-%COMP%]   .tab-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{flex:20%;margin:auto 7px}.page-header[_ngcontent-%COMP%]   .page-action[_ngcontent-%COMP%]   .tab-style[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{flex:80%;display:flex;flex-direction:column;justify-content:center;margin:auto;font-size:14px;font-weight:500}.green[_ngcontent-%COMP%]{color:#12753d;background-color:#31d57836}.blue[_ngcontent-%COMP%]{color:#305e80;background-color:#36acff36}.red[_ngcontent-%COMP%]{color:#a94f48;background-color:#ee302336}"]}),e})();var y=o(267),m=o(6709);let C=(()=>{class e{constructor(a,i,l){this.validationService=a,this.headerService=i,this.privilegesService=l,this.validationTable=new y.G,this.headers=[{fieldId:"ratePlan",title:"Rate Plan"},{fieldId:"dwhStatus",title:"Status"},{fieldId:"opening",title:"Opening",classStyle:"green tab-style"},{fieldId:"closing",title:"Closing",classStyle:"blue tab-style"},{fieldId:"variance",title:"Variance",classStyle:"red tab-style"}],this.tableData=[{ratePlan:"rateplan",dwhStatus:"valid",opening:155,closing:55,variance:10,inSubs:7,outSubs:10}],this.extraCols=[{fieldId:"inSubs",title:"Export as Excel",fieldTitle:"In_Subs",show:!0,type:"dropdown",data:[],optionLabel:"",placeholder:"In_Subs"},{fieldId:"outSubs",fieldTitle:"Out_Subs",title:"search",type:"dropdown",data:[],optionLabel:"",show:!0,placeholder:"Out_Subs"}]}ngOnInit(){this.enableUpdatePatch=this.privilegesService.checkPrivileges(h.$.VALIDATION.UPDATE),this.epochDate=localStorage.getItem("date"),this.validationService.retrieveTransactionTypes().subscribe(a=>{this.extraCols[0].data=a.payload.transactionModelList,this.extraCols[0].optionLabel=this.extraCols[1].optionLabel="trxTypeName",this.extraCols[1].data=a.payload.transactionModelList}),this.validationService.getvalidationList(this.epochDate).subscribe(a=>{var i;a.payload&&(this.tableData=null===(i=a.payload)||void 0===i?void 0:i.list,this.tableData.map(l=>{l.variance=l.closing-l.opening}),this.fillTable(this.tableData))}),console.log(this.epochDate),this.DateSubscriber=this.headerService.DateSubject.subscribe(a=>{this.epochDate=a,this.validationService.getvalidationList(this.epochDate).subscribe(i=>{var l;i.payload&&(this.tableData=null===(l=i.payload)||void 0===l?void 0:l.list,this.tableData.map(r=>{r.variance=r.closing-r.opening}),console.log(this.tableData),this.fillTable(this.tableData))})})}fillTable(a){this.originalData=JSON.parse(JSON.stringify(a)),this.validationTable.cols=this.headers,this.validationTable.extracols=this.extraCols,this.validationTable.pagination=!0,this.validationTable.name="validation",this.validationTable.data=a,this.validationTable.lockFlag=!1,this.validationTable.editFlag=!1,this.validationTable.deleteFlag=!1,this.validationTable.hasSubmit=!0,this.validationTable.globalFilterFields=["ratePlan","dwhStatus","opening","closing","variance"]}ngOnDestroy(){this.DateSubscriber.unsubscribe()}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(c.R),t.Y36(u.r),t.Y36(g.y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-validation"]],decls:1,vars:3,consts:[[3,"table","enableUpdatePatch","originalData"]],template:function(a,i){1&a&&t._UZ(0,"app-table",0),2&a&&t.Q6J("table",i.validationTable)("enableUpdatePatch",i.enableUpdatePatch)("originalData",i.originalData)},directives:[m.a],styles:[""]}),e})();const S=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class e{constructor(a,i,l){this.validationService=a,this.headerService=i,this.privilegesService=l,this.epochDate=Date.parse(this.headerService.calendarDate)}ngOnInit(){this.showBalance=this.privilegesService.checkPrivileges(h.$.VALIDATION.BALANCE),this.epochDate=localStorage.getItem("date"),this.getValidationBalance(),this.headerService.DateSubject.subscribe(a=>{this.epochDate=a,this.getValidationBalance()})}getValidationBalance(){this.validationService.retrieveBalance(this.epochDate).subscribe(a=>{console.log(a.payload),this.tabs=[{name:"Opening",count:a.payload.opening,icon:"icon-timer",classStyle:"green"},{name:"Closing",count:a.payload.closing,icon:"icon-timer-off",classStyle:"blue"},{name:"Total Variance",count:a.payload.variance,icon:"icon-chart",classStyle:"red"}]})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(c.R),t.Y36(u.r),t.Y36(g.y))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-validation-layout"]],decls:3,vars:4,consts:[[1,"layout-margin"],[3,"title","tabs","icon","showBalance"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0),t._UZ(1,"app-colorful-header",1)(2,"app-validation"),t.qZA()),2&a&&(t.xp6(1),t.Q6J("title","Validation Engine")("tabs",i.tabs)("icon","icon-chart")("showBalance",i.showBalance))},directives:[f,C],styles:[""]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(S)],p.Bz]}),e})();var O=o(1018);let D=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,T,O.m]]}),e})()}}]);