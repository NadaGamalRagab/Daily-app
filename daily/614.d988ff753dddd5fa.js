"use strict";(self.webpackChunkDaily=self.webpackChunkDaily||[]).push([[614],{1121:(A,p,a)=>{a.d(p,{k:()=>e});var s=a(4953),c=a(2340),T=a(5e3),f=a(520);let e=(()=>{class o{constructor(n){this.http=n,this.baseUrl=c.N.url+s.X.LOOKUPS.LOOKUP_PATH}getAllRatePlans(){return this.http.post(this.baseUrl+s.X.RATEPLANS_ENDPOINTS.RATEPALN+s.X.CRUD.GET_ALL,{})}updateRatePlan(n){let d=[];for(let i of n)d.push({ratePlanCode:i.ratePlanCode,showFlag:i.showFlag,ratePlanGroupKey:i.ratePlanGroupKey});return this.http.post(this.baseUrl+s.X.RATEPLANS_ENDPOINTS.RATEPALN+s.X.CRUD.UPDATE,Object.assign({},d))}updateRateplansList(n){console.log(n);let d=[];for(let i of n)d.push({ratePlanCode:i.ratePlanCode,showFlag:i.showFlag,ratePlanGroupKey:i.ratePlanGroupKey});return this.http.post(this.baseUrl+s.X.RATEPLANS_ENDPOINTS.RATEPALN+s.X.CRUD.UPDATE_BATCH,{ratePlans:[...d]})}getRateplaneGroup(n){return this.http.post(this.baseUrl+s.X.RATEPLANS_ENDPOINTS.RATEPALNGROUPS+s.X.CRUD.GET,{ratePlanGroupKey:parseInt(n)})}getAllRatePlanGroups(){return this.http.post(this.baseUrl+s.X.RATEPLANS_ENDPOINTS.RATEPALNGROUPS+s.X.CRUD.GET_ALL,{})}updateRatePlanGroup(n){return this.http.post(this.baseUrl+s.X.RATEPLANS_ENDPOINTS.RATEPALNGROUPS+s.X.CRUD.UPDATE,Object.assign({},n))}createRateplanGroup(n){return this.http.post(this.baseUrl+s.X.RATEPLANS_ENDPOINTS.RATEPALNGROUPS+s.X.CRUD.ADD,n)}deletRateplanGroup(n){return this.http.post(this.baseUrl+s.X.RATEPLANS_ENDPOINTS.RATEPALNGROUPS+s.X.CRUD.DELETE,{ratePlanGroupKey:n})}}return o.\u0275fac=function(n){return new(n||o)(T.LFG(f.eN))},o.\u0275prov=T.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},3614:(A,p,a)=>{a.r(p),a.d(p,{TransferAdjustmentModule:()=>b});var s=a(9808),c=a(8753),T=a(267),f=a(9597),e=a(5e3),o=a(3514),P=a(7840),n=a(1121),d=a(111),i=a(6458),m=a(6709);const v=[{path:"",redirectTo:"adjustment",pathMatch:"full"},{path:"adjustment",component:(()=>{class r{constructor(t,l,h,E,S){this.headerService=t,this.transferService=l,this.ratePlansService=h,this.privilegesService=E,this.footprintService=S,this.transferTable=new T.G,this.headers=[{fieldId:"trxTypeName",title:"Transaction Type Name",classStyle:""},{fieldId:"subs",title:"Currrent Subs",classStyle:"blue tab-style width-num"}],this.extraCols=[{fieldId:"adjust",title:"Export as Excel",fieldTitle:"Adjusts",show:!0,data:[],placeholder:"Adjusts",type:"input",inputType:"number"},{fieldId:"ratePlan",title:"search",fieldTitle:"Rate plan",show:!0,type:"dropdown",data:[],optionLabel:"",placeholder:"Rate plan"}]}ngOnInit(){this.enableUpdatePatch=this.privilegesService.checkPrivileges(f.$.TRANSFER_ADJUSTMENT.UPDATE),this.epochDate=localStorage.getItem("date"),this.getTransferAgjustmentList(this.epochDate),this.getRatePlans(),this.dateSubscription=this.headerService.DateSubject.subscribe(t=>{this.epochDate=t,this.getTransferAgjustmentList(this.epochDate)})}getRatePlans(){this.ratePlanSubscription=this.ratePlansService.getAllRatePlans().subscribe(t=>{console.log(t),this.extraCols[1].data=t.payload,this.extraCols[1].optionLabel="ratePlan"})}getTransferAgjustmentList(t){this.transferSubscription=this.transferService.getTransferAdjustment(t).subscribe(l=>{this.fillTable((null==l?void 0:l.payload)?l.payload.getTransferAdjustmentList:[])})}fillTable(t){this.transferTable.cols=this.headers,this.transferTable.extracols=this.extraCols,this.transferTable.pagination=!0,this.transferTable.name="transferAdjustment",this.transferTable.data=t,this.transferTable.lockFlag=!1,this.transferTable.editFlag=!1,this.transferTable.deleteFlag=!1,this.transferTable.hasSubmit=!0,this.transferTable.globalFilterFields=["trxTypeName","subs"]}ngOnDestroy(){var t,l,h;null===(t=this.dateSubscription)||void 0===t||t.unsubscribe(),null===(l=this.ratePlanSubscription)||void 0===l||l.unsubscribe(),null===(h=this.transferSubscription)||void 0===h||h.unsubscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(o.r),e.Y36(P.J),e.Y36(n.k),e.Y36(d.y),e.Y36(i.x))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-transfer-adjustment"]],decls:7,vars:2,consts:[[1,"layout-margin"],[1,"row","flex","header"],[1,"col-7","flex","pt-4"],[1,"icon-transfer"],[1,"text"],[3,"table","enableUpdatePatch"]],template:function(t,l){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"i",3),e.TgZ(4,"span",4),e._uU(5," Transfer Adjustment"),e.qZA()()(),e._UZ(6,"app-table",5),e.qZA()),2&t&&(e.xp6(6),e.Q6J("table",l.transferTable)("enableUpdatePatch",l.enableUpdatePatch))},directives:[m.a],styles:[".header[_ngcontent-%COMP%]   .icon-transfer[_ngcontent-%COMP%]{color:#142645b3;padding-right:10px;font-size:17px;padding-top:1px;font-weight:700}.header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--lightBlack);font: 700 17px/17px Cairo;letter-spacing:1.25px}"]}),r})()}];let g=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[c.Bz.forChild(v)],c.Bz]}),r})();var R=a(1018);let b=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[s.ez,g,R.m]]}),r})()}}]);